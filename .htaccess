# File: /.htaccess
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase "/"

    # Rule 1: If the request is for an existing file, serve it directly.
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteRule ^ - [L]

    # Rule 2: If the request is for an existing directory, serve it directly.
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # --- NEW RULE START ---
    # Rule 2.5: Automatically add .php if the file exists.
    # If the request is NOT a directory...
    RewriteCond %{REQUEST_FILENAME} !-d
    # ...and if the request + ".php" IS a valid file...
    RewriteCond %{REQUEST_FILENAME}.php -f
    # ...then rewrite the URL to include .php internally.
    RewriteRule ^(.*)$ $1.php [L]
    # --- NEW RULE END ---

    # Rule 3: For all other requests (true 404s), rewrite to outer index.php.
    RewriteRule . index.php [L]
</IfModule>

# Optional: Improve security by preventing directory listing
Options -Indexes